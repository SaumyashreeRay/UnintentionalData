(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{154:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(57),l=a.n(i),r=(a(83),a(6)),s=a(7),u=a(9),c=a(8),m=a(10),d=a(75),b=a.n(d);a(39),n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var p=a(2),h=a(18),v=a.n(h);v.a.initializeApp({apiKey:"AIzaSyBG0Qkj858Axm39hTx_AXEshQUJGQHi6HE",authDomain:"unintentional-data-labeling.firebaseapp.com",databaseURL:"https://unintentional-data-labeling.firebaseio.com",projectId:"unintentional-data-labeling",storageBucket:"unintentional-data-labeling.appspot.com",messagingSenderId:"750426975197"});var g=v.a,f=a(3),E=a.n(f),y=a(4),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={hostUserName:"",numberOfPlayers:"",numberofRounds:"",mode:"image",dbKey:"",showStart:!1,showSubmit:!0},a.updateUserName=a.updateUserName.bind(Object(p.a)(Object(p.a)(a))),a.updateNumberOfPlayers=a.updateNumberOfPlayers.bind(Object(p.a)(Object(p.a)(a))),a.updateNumberOfRounds=a.updateNumberOfRounds.bind(Object(p.a)(Object(p.a)(a))),a.updateMode=a.updateMode.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a.continueSetup=a.continueSetup.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateMode",value:function(e){this.setState({value:e.target.value})}},{key:"updateUserName",value:function(e){this.setState({hostUserName:e.target.value})}},{key:"updateNumberOfPlayers",value:function(e){this.setState({numberOfPlayers:e.target.value})}},{key:"updateNumberOfRounds",value:function(e){this.setState({numberofRounds:e.target.value})}},{key:"continueSetup",value:function(e){var t={players:[null,{nickname:"",submissionID:1}],promptID:Math.floor(833*Math.random())+1,type:"",voting:[null,{nickname:0}],winner:""};alert(e);for(var a=1;a<this.state.numberofRounds;a++)g.database().ref("game-session/"+e+"/round/"+(a+1)).update({submissions:t})}},{key:"handleSubmit",value:function(){var e=this;null!=this.state.mode&&null!=this.state.numberOfPlayers&&null!=this.state.numberofRounds&&""!=this.state.hostUserName&&this.state.numberOfPlayers>=3&&this.state.numberofRounds>=3&&(g.database().ref("game-session/").push({currentRoundNumber:1,imagesUsed:null,mode:this.state.mode,numberPlayers:this.state.numberOfPlayers,numberRounds:this.state.numberofRounds,players:[null,{nickname:this.state.hostUserName,powerups:0,score:0}],round:[null,{submissions:{players:[null,{nickname:"",submissionID:1}],promptID:1,type:"",voting:[null,{nickname:0}],winner:""}}]}).then(function(t){var a=t.key;console.log(a),e.setState({dbKey:a}),e.setState({showStart:!0}),e.setState({showSubmit:!1}),e.continueSetup(a)}),this.start=!0),this.state.numberOfPlayers<3&&alert("Not enough players"),this.state.numberOfRounds<3&&alert("Not enough rounds"),""==this.state.hostUserName&&alert("Enter a valid nickname")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(y.b,{to:"/"},o.a.createElement(E.a,{id:"exit"},"Home"))),o.a.createElement("header",null,"Create a New Game "),o.a.createElement("div",{id:"gameOptions"},o.a.createElement("form",null,o.a.createElement("p",null,"Enter Your Nickname "),o.a.createElement("input",{type:"text",onChange:this.updateUserName}),o.a.createElement("p",null,"Number of Players (3-8)",o.a.createElement("br",null),o.a.createElement("input",{type:"number",min:"3",max:"8",default:"3",name:"players",onChange:this.updateNumberOfPlayers})),o.a.createElement("p",null,"Number of Rounds (min 3)",o.a.createElement("br",null),o.a.createElement("input",{type:"number",min:"3",max:"50",default:"3",name:"rounds",onChange:this.updateNumberOfRounds})),o.a.createElement("p",null,"Play with",o.a.createElement("div",{class:"styled-select white semi-square "},o.a.createElement("select",{name:"prompt"},o.a.createElement("option",{value:"image"},"Image"))))),this.state.showSubmit?o.a.createElement(E.a,{type:"submit",onClick:this.handleSubmit},"Submit"):null,this.state.showStart?o.a.createElement(y.b,{to:"/game"},o.a.createElement(E.a,null,"Start")):null,o.a.createElement("p",null," Your Shareable GameCode: ",this.state.dbKey)))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={hostUserName:"",gameCode:"",showStart:!1,showSubmit:!0},a.updateUserName=a.updateUserName.bind(Object(p.a)(Object(p.a)(a))),a.updateGameCode=a.updateGameCode.bind(Object(p.a)(Object(p.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"updateGameCode",value:function(e){this.setState({gameCode:e.target.value})}},{key:"updateUserName",value:function(e){this.setState({userName:e.target.value})}},{key:"handleSubmit",value:function(){var e=this,t=this.state.gameCode,a=this.state.hostUserName,n=0;g.database().ref("game-session/"+t+"/numberPlayers").once("value",function(e){n=e.val()}),null!=t&&null!=a&&(g.database().ref("game-session/"+t+"/players").once("value",function(e){e.numChildren()<n?g.database().ref("game-session/"+t+"/players").child(e.numChildren()+1).update({nickname:a,powerups:0,score:0}).then(function(){alert("You have been added to this game.")}):alert("You cannot join this game")}),g.database().ref("game-session/"+t+"/players").once("value",function(e){}).then(function(t){0!=t.numChildren()&&(e.setState({showStart:!0}),e.setState({showSubmit:!1}))}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(y.b,{to:"/"},o.a.createElement(E.a,{id:"exit"},"Home"))),o.a.createElement("header",null,"Join A Game"),o.a.createElement("div",{id:"gameOptions"},o.a.createElement("form",null,o.a.createElement("p",null,"Enter Your Nickname "),o.a.createElement("input",{type:"text",onChange:this.updateUserName}),o.a.createElement("p",null,"Enter Game Code",o.a.createElement("br",null),o.a.createElement("input",{type:"text",name:"gameCode",onChange:this.updateGameCode})),this.state.showSubmit?o.a.createElement(E.a,{onClick:this.handleSubmit},"Submit"):null),this.state.showStart?o.a.createElement(y.b,{to:"/game"},o.a.createElement(E.a,null,"Start")):null))}}]),t}(n.Component),j=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"readDB",value:function(){var e=[0,0,0,0];this.appendCaption();for(var t=0;t<4;t++){var a=this.getRandomInt(0,833);this.appendImage(a,t,e)}}},{key:"appendCaption",value:function(){var e=this.getRandomInt(1,27);return g.database().ref("captions/"+e).once("value").then(function(t){console.log(t),console.log(t.val()),console.log(t.val().caption),window.caption=t.val().caption,document.getElementById("caption").innerHTML=t.val().caption,g.database().ref("game-session/oneGame/round/1/submissions/").update({promptID:e})})}},{key:"appendImage",value:function(e,t,a){return g.database().ref("images/"+e).once("value").then(function(n){console.log(n.val().url),window.url=n.val().url;var o=document.createElement("img");o.setAttribute("class","randomPictures"),o.setAttribute("src",n.val().url),o.setAttribute("id","img"+t),o.setAttribute("alt",e);var i=document.createElement("div");i.setAttribute("height","200px"),i.setAttribute("width","200px"),i.setAttribute("class","grid-item"),i.setAttribute("id",t),i.appendChild(o),document.getElementById("grid").appendChild(i),i.addEventListener("click",function(){console.log(document.getElementById("img"+t).getAttribute("alt"));var e=document.getElementById("img"+t).getAttribute("alt");if(0===a[t]){console.log(a[t]),g.database().ref("game-session/oneGame/round/1/submissions/players/").child(1).update({nickname:"Alex",submissionID:{imageNumber:e}}),this.style.border="solid",this.style.borderColor="#17C490";for(var n=0;n<a.length;n++)1===a[n]&&(document.getElementById(n).style.border="none",a[n]--);a[t]++}else 1===a[t]&&(console.log(a[t]),this.style.border="none",a[t]--)})})}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"componentDidMount",value:function(){window.addEventListener("load",this.readDB())}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(y.b,{to:"/"},o.a.createElement(E.a,{id:"exit"},"Exit Game"))),o.a.createElement("header",null,"Round 1"),o.a.createElement("div",{className:"gameInfo"},o.a.createElement("h2",null,"Your Score: 0")),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"caption",id:"caption"}),o.a.createElement("div",{className:"grid",id:"grid"}),o.a.createElement(y.b,{to:"/vote"},o.a.createElement(E.a,{id:"Submit"},"Submit"))))}}]),t}(n.Component),S=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("header",null,"Memes For Machines "),o.a.createElement("div",{id:"a"},o.a.createElement("div",{id:"description"},"Who will find the best caption/picture combo?"),o.a.createElement("div",{id:"menuOptions"},o.a.createElement(y.b,{to:"/create"},o.a.createElement(E.a,null,"New Game")),o.a.createElement(y.b,{to:"/join"},o.a.createElement(E.a,null,"Join Game")),o.a.createElement(y.b,{to:"/Game"},o.a.createElement(E.a,null,"Sample Round")))))}}]),t}(n.Component),k=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getSubmittedImages",value:function(){var e=[0,0,0,0];this.getRoundCaption();var t=0;g.database().ref("game-session/oneGame/round/1/submissions/players").orderByKey().once("value").then(function(a){a.forEach(function(a){console.log(a.val().submissionID.imageNumber);var n=parseInt(a.val().submissionID.imageNumber);g.database().ref("images/"+n).once("value").then(function(a){window.url=a.val().url;var o=document.createElement("img");o.setAttribute("class","randomPictures"),o.setAttribute("src",a.val().url),o.setAttribute("id","img"+t),o.setAttribute("alt",n);var i=document.createElement("div");i.setAttribute("height","200px"),i.setAttribute("width","200px"),i.setAttribute("class","grid-item"),i.setAttribute("id",t),i.appendChild(o),document.getElementById("grid").appendChild(i),i.addEventListener("click",function(){console.log(document.getElementById("img"+t).getAttribute("alt"));document.getElementById("img"+t).getAttribute("alt");if(0===e[t]){console.log(e[t]),g.database().ref("game-session/oneGame/round/1/submissions/").update({winner:n}),this.style.border="solid",this.style.borderColor="#17C490";for(var a=0;a<e.length;a++)1===e[a]&&(document.getElementById(a).style.border="none",e[a]--);e[t]++}else 1===e[t]&&(console.log(e[t]),this.style.border="none",e[t]--)})})}),t++})}},{key:"getRoundCaption",value:function(){g.database().ref("game-session/oneGame/round/1/submissions/promptID").once("value").then(function(e){console.log(e.val());var t=e.val();g.database().ref("captions/"+t).once("value").then(function(e){console.log(e),console.log(e.val()),console.log(e.val().caption),window.caption=e.val().caption,document.getElementById("caption").innerHTML=e.val().caption})})}},{key:"getRandomInt",value:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}},{key:"componentDidMount",value:function(){window.addEventListener("load",this.getSubmittedImages())}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(y.b,{to:"/"},o.a.createElement(E.a,{id:"exit"},"Exit Game"))),o.a.createElement("header",null,"Round 1 Voting"),o.a.createElement("div",{className:"gameInfo"},o.a.createElement("h2",null,"Your Score: 0")),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"caption",id:"caption"}),o.a.createElement("div",{className:"grid",id:"grid"}),o.a.createElement(y.b,{to:"/win"},o.a.createElement(E.a,{id:"Submit"},"Submit"))))}}]),t}(n.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getWinningImage",value:function(){this.getRoundCaption(),g.database().ref("game-session/oneGame/round/1/submissions/winner").once("value").then(function(e){console.log(e),console.log(parseInt(e.val()));var t=parseInt(e.val());console.log(t),g.database().ref("images/"+t).once("value").then(function(e){console.log(e.val().url),window.url=e.val().url;var a=document.createElement("img");a.setAttribute("class","winnerPicture"),a.setAttribute("src",e.val().url),a.setAttribute("alt",t);var n=document.createElement("div");n.setAttribute("height","200px"),n.setAttribute("width","200px"),n.setAttribute("class","grid-item"),n.appendChild(a),document.getElementById("winner").appendChild(n)})})}},{key:"getRoundCaption",value:function(){g.database().ref("game-session/oneGame/round/1/submissions/promptID").once("value").then(function(e){console.log(e.val());var t=e.val();g.database().ref("captions/"+t).once("value").then(function(e){console.log(e),console.log(e.val()),console.log(e.val().caption),window.caption=e.val().caption,document.getElementById("caption").innerHTML=e.val().caption})})}},{key:"getScore",value:function(){g.database().ref("game-session/oneGame/players/1/score").once("value").then(function(e){console.log(e.val()),document.getElementById("winScore").innerHTML="Your Score: "+e.val()})}},{key:"componentDidMount",value:function(){window.addEventListener("load",this.getWinningImage())}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(y.b,{to:"/"},o.a.createElement(E.a,{id:"exit"},"Exit Game"))),o.a.createElement("header",null,"Round 1 Winner"),o.a.createElement("div",{className:"gameInfo"},o.a.createElement("h2",{id:"winScore"},this.getScore())),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"caption",id:"caption"}),o.a.createElement("div",{className:"grid",id:"winner"})))}}]),t}(n.Component),C=a(24),I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={players:[],dbKey:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"getPlayers",value:function(){g.database().ref("game-session/oneGame/players").orderByKey().once("value").then(function(e){var t=this;e.forEach(function(e){t.setState({players:t.state.players.concat(["test"])})})})}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("ul",null),o.a.createElement("div",{id:"main"}))}}]),t}(n.Component),A=o.a.createElement(y.a,null,o.a.createElement("div",null,o.a.createElement(C.a,{exact:!0,path:"/",component:S}),o.a.createElement(C.a,{path:"/create",component:O}),o.a.createElement(C.a,{path:"/join",component:w}),o.a.createElement(C.a,{path:"/game",component:j}),o.a.createElement(C.a,{path:"/vote",component:k}),o.a.createElement(C.a,{path:"/win",component:N})));l.a.render(o.a.createElement(I,null),document.getElementById("root")),l.a.render(A,document.getElementById("main")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,t,a){},75:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},78:function(e,t,a){e.exports=a(154)},83:function(e,t,a){}},[[78,1,2]]]);
//# sourceMappingURL=main.3b15368d.chunk.js.map